<!DOCTYPE html>
<html lang="en">

<head>
	<!-- Global site tag (gtag.js) - Google Analytics -->
	<script async src="https://www.googletagmanager.com/gtag/js?id=UA-146581885-1"></script>
	<script>
		window.dataLayer = window.dataLayer || [];

		function gtag() {
			dataLayer.push(arguments);
		}
		gtag('js', new Date());

		gtag('config', 'UA-146581885-1');
	</script>
	<title>Setup Your Ruby Environment | Eric Chrobak</title>
	<meta charset="utf-8">
	<meta name="author" content="Eric Chrobak">
	<meta name="google-site-verification" content="mlSH_0PUjKe4Vjt1l5LJBdkVBq2rtdxkN0A2gV92NU4" />
	<meta name="description" content="Eric Chrobak is a software engineer. Skills include Ruby, Rails, HTML, CSS, and JavaScript.">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!--Fonts-->
	<link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
	<link href='https://fonts.googleapis.com/css?family=Pacifico' rel='stylesheet' type='text/css'>
	<!--CSS-->
	<link rel="shortcut icon" type="image/icon" href="/jpg/webfavicon.png">
	<link rel="icon" type="image/icon" href="/jpg/webfavicon.png">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="/css/scrolling-nav.css">
	<!-- custom style -->
	<link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" type="text/css" href="/css/responsive.css">
	<style type="text/css"></style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script src="/javascript/jquery.easing.min.js"></script>
	<script src="/javascript/scroll-down.js"></script>
	<script src="/javascript/script.js"></script>
	<script src="/javascript/scrolling-nav.js"></script>
</head>


<body id="page-top" data-spy="scroll" data-target=".navbar-fixed-top">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-fixed-top smart-scroll" role="navigation">
    <div class="container-fluid">

        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false" aria-controls="bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand page-scroll" id="name" href="#page-top">EC</a>
        </div>


        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a class="page-scroll active" href="http://localhost:4000/">Home</a>
                </li>
                
                <li>
                    <a class="page-scroll" href="http://localhost:4000/about.html">About</a>
                </li>
                
                <li>
                    <a class="page-scroll" href="http://localhost:4000/blog.html">Blog</a>
                </li>
                

            </ul>
        </div>

    </div>
</nav>


	<div class="post">
    <div class="container-fluid">
        <h1>Setup Your Ruby Environment</h1>
        <p id="date">15 Aug 2024 - Eric Chrobak</p>
        <p><br />
Setting up your Ruby environment the first time is tricky. You end up banging your head against the and running down the street screaming if don’t do it correctly. I’m hoping to help other developers get their Ruby environment setup correctly the first time.</p>

<p><br /></p>

<p>We’ll go over:</p>
<ul>
  <li><a href="#how-to-setup-your-ruby-environment">How to setup your Ruby environment on Mac and Linux</a></li>
  <li><a href="#managing-ruby-versions-with-rbenv">Managing Ruby versions with Rbenv</a></li>
  <li><a href="#troubleshooting">Troubleshooting</a></li>
  <li><a href="#starting-fresh">Starting Fresh</a></li>
</ul>

<p><br /></p>

<h1 id="how-to-setup-your-ruby-environment"><strong>How To Setup Your Ruby Environment</strong></h1>
<p>We are going to look at the most recent stable version of Ruby: <a href="https://ruby-doc.org/3.3.4/">Ruby 3.3.4</a>
We’re going to use Rbenv as the version manager tool for Ruby.</p>

<p><br /></p>

<p><strong><em>It is crucial that you setup your Ruby environment. You do not want to use the out of the box Ruby installed on your machine. Additionally, the steps are sequential and you will run into problems doing them out of order.</em></strong></p>

<p><br /></p>

<h1 id="setup-on-mac-aws-cloud9-github-codespaces"><strong>Setup on Mac, AWS Cloud9, GitHub Codespaces</strong></h1>
<blockquote>
  <p><strong>Your first step is to setup your repository on either <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/quickstart-for-repositories">GitHub</a>, BitBucket, or GitLab.</strong></p>
</blockquote>

<ol>
  <li>Install a Package manager -
    <ul>
      <li>Mac - <a href="https://brew.sh/">Brew</a></li>
      <li>Linux - <a href="https://www.baeldung.com/linux/apt-reinstall-ubuntu-debian">apt, apt-get</a></li>
      <li>Windows - <a href="https://learn.microsoft.com/en-us/windows/package-manager/winget/">Winget</a></li>
    </ul>
  </li>
  <li>Install Ruby version manager tool <a href="https://github.com/rbenv/rbenv">Rbenv</a> and <a href="https://github.com/rbenv/ruby-build">Ruby Build</a>. Examples of how to install on different systems:
    <ul>
      <li><strong><em>Mac using Homebrew - Ruby Build included</em></strong>
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>brew <span class="nb">install </span>rbenv
 <span class="nv">$ </span>brew <span class="nb">install </span>ruby build
 <span class="nv">$ </span>brew update ruby build
</code></pre></div>        </div>
      </li>
      <li><strong><em>Rbenv install on Cloud9, Codespaces using yum, apt, apt-get - Ruby Build excluded. Be sure to install Ruby build</em></strong>
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span><span class="nb">sudo </span>yum <span class="nb">install</span> <span class="nt">-y</span> rbenv
 <span class="nv">$ </span><span class="nb">sudo </span>apt <span class="nb">install </span>rbenv
 <span class="nv">$ </span><span class="nb">sudo </span>apt-get <span class="nb">install </span>rbenv
</code></pre></div>        </div>
      </li>
      <li><strong><em><a href="https://github.com/rbenv/ruby-build/wiki#suggested-build-environment">Ruby Build Environment Recommended Setup</a></em></strong></li>
    </ul>
  </li>
  <li>Set up your shell to load rbenv:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>rbenv init
</code></pre></div>    </div>
  </li>
  <li>Install Ruby 3.3.4 with Rbenv:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>rbenv <span class="nb">install </span>3.3.4
</code></pre></div>    </div>
  </li>
  <li>Clone repo:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>git clone https://github.com/username/repository_name.git
</code></pre></div>    </div>
  </li>
  <li>Set Ruby version for project folder to 3.3.4. CD into the folder before setting version:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rbenv <span class="nb">local </span>3.3.4
</code></pre></div>    </div>
  </li>
  <li>Install <a href="https://bundler.io/">Bundler</a> - Gem manager (JavaScript npm equivalent)
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>gem <span class="nb">install </span>bundler
</code></pre></div>    </div>
  </li>
  <li>Install gems
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>bundle <span class="nb">install</span>
</code></pre></div>    </div>
    <p><br /></p>
  </li>
</ol>

<h1 id="managing-ruby-versions-with-rbenv"><strong>Managing Ruby Versions With Rbenv</strong></h1>
<p>Once you have the Rbenv installed you can manage different Ruby versions with it. You can also set different versions for different projects. Rbenv’s GitHub Readme provides most of the information you will need to manage everything. We’re going to touch of a few of those commands:</p>

<ul>
  <li><strong>List Ruby Versions</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rbenv versions
</code></pre></div>    </div>
  </li>
  <li><strong>Set Global Ruby Version</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rbenv global 3.3.4
</code></pre></div>    </div>
  </li>
  <li><strong>Set Local Ruby Version to 3.1.0</strong>
cd into project folder then install
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd </span>project_folder
<span class="nv">$ </span>rbenv <span class="nb">install </span>3.1.0
<span class="nv">$ </span>rbenv <span class="nb">local </span>3.3.4
</code></pre></div>    </div>
  </li>
  <li><strong>Uninstall Ruby Version</strong>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>rbenv uninstall 3.3.4
</code></pre></div>    </div>
    <p><br /></p>
  </li>
</ul>

<h1 id="troubleshooting-common-issues"><strong>Troubleshooting Common Issues</strong></h1>
<p>After you’ve setup your environment and worked on different projects you may run into issues with the setup.</p>
<ol>
  <li><strong>Command ‘rbenv’ not found</strong><br />
  This happens when the shell PATH is not set for rbenv. You have a couple of options to fix this:
    <ul>
      <li>Run Rbenv init to add Rbenv to the shell PATH automatically
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>rbenv init
</code></pre></div>        </div>
      </li>
      <li>If that doesn’t work try adding the following to your shell profile manually:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span><span class="nb">echo</span> <span class="s1">'export PATH="$HOME/.rbenv/bin:$PATH"'</span> <span class="o">&gt;&gt;</span> ~/.bash_profile
  <span class="nv">$ </span><span class="nb">echo</span> <span class="s1">'eval "$(rbenv init -)"'</span> <span class="o">&gt;&gt;</span> ~/.bash_profile
  <span class="nv">$ </span><span class="nb">source</span> ~/.bash_profile
</code></pre></div>        </div>
      </li>
      <li>If all else fails remove Rbenv and reinstall
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>brew uninstall rbenv
  <span class="nv">$ </span>brew uninstall ruby-build
  <span class="nv">$ </span>brew <span class="nb">install </span>rbenv
  <span class="nv">$ </span>brew <span class="nb">install </span>ruby-build
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Ruby Version not Installed</strong><br />
  This can show itself in many ways. If your development environment has a different version than production then you will likely run into issues with either error messages or Bundle giving an error message when trying to install gems. Try the following to resolve this:
    <ul>
      <li>Check for Local Ruby version to see if it is set and matches your Gemfile
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>rbenv <span class="nb">local</span>
</code></pre></div>        </div>
      </li>
      <li>Install Ruby version to local folder
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>rbenv <span class="nb">install </span>3.3.4
 <span class="nv">$ </span>rbenv <span class="nb">local </span>3.3.4
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li><strong>Gems not found</strong><br />
  This can happen if you deploy to a tool such as AWS Lambda and you receive an error stating the gem is not found. A common cause of a problem like this is the gem is not included in the gemfile, you are using a different version of Bundler, or the gems are being installed in a different location for your project. To troubleshoot:
    <ul>
      <li>Check the Gemfile for the gem</li>
      <li>Check the Gemfile.lock for the gem</li>
      <li>Check the Gemfile.lock for the Bundler version. It should match the version in production. If it doesn’t then run the following:
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nv">$ </span>gem <span class="nb">install </span>bundler <span class="nt">-v</span> 2.2.31
</code></pre></div>        </div>
        <p>The version number should match the version in the Gemfile.lock or production.</p>
      </li>
      <li>Check where the gems are installed on your system
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>gem environment
</code></pre></div>        </div>
      </li>
      <li>Check where the gem is installed
        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>bundle info gem_name <span class="nt">--path</span>
</code></pre></div>        </div>
        <p><br /></p>
      </li>
    </ul>
  </li>
</ol>

<h1 id="starting-fresh"><strong>Starting Fresh</strong></h1>
<p>Recently I hit a wall with Ruby. I’d had Ruby installed for over 5 years with various versions and ran into issues running programs locally. I couldn’t figure out the source of the issue after a full day or so troubleshooting. It didn’t make business sense spend any more time on it.</p>

<p><br /></p>

<p>With that in mind I went the nuclear option and started fresh on my machine. That included removing every installation of Ruby, Rbenv, Bundler, gems, and clearing any configurations in my shell profile. Depending on your situation this may be the best option for you. For many engineers we like to source a problem and resolve it if we can but, the reality is the company you work for would likely get a better return on your time by you taking a half day to setup a fresh environment rather than several days troubleshooting the issue. Here’s how you can do that:</p>

<p><br /></p>

<ol>
  <li><strong>Remove all Ruby Versions</strong><br />
  Assuming you have Rbenv installed you can remove all Ruby versions. List all versions and uninstall each one:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>rbenv versions
  <span class="nv">$ </span>rbenv uninstall 3.3.1
</code></pre></div>    </div>
  </li>
  <li><strong>Remove Rbenv</strong><br />
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>brew uninstall rbenv
  <span class="nv">$ </span>brew uninstall ruby-build
</code></pre></div>    </div>
  </li>
  <li><strong>Remove Bundler</strong><br />
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>gem uninstall bundler
</code></pre></div>    </div>
  </li>
  <li><strong>Uninstall Gems</strong><br />
  This would only be necessary for the gems that are causing you problems
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span>gem list <span class="nt">--local</span>
  <span class="nv">$ </span>gem uninstall gem_name
</code></pre></div>    </div>
  </li>
  <li><strong>Remove Ruby and Rbenv from Path</strong><br />
  Remove the following from your shell profile:
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nv">$ </span><span class="nb">echo</span> <span class="s1">'export PATH="$HOME/.rbenv/bin:$PATH"'</span> <span class="o">&gt;&gt;</span> ~/.bash_profile
  <span class="nv">$ </span><span class="nb">echo</span> <span class="s1">'eval "$(rbenv init -)"'</span> <span class="o">&gt;&gt;</span> ~/.bash_profile
  <span class="nv">$ </span><span class="nb">source</span> ~/.bash_profile
</code></pre></div>    </div>
  </li>
  <li><strong>Follow Steps above to Reinstall Ruby, Rbenv, and Bundler</strong><br />
  <a href="#how-to-setup-your-ruby-environment">How to setup your Ruby environment on Mac and Linux</a></li>
</ol>

<p><br /></p>

<p>That should cover setting up your Ruby environment, managing Ruby versions, and troubleshooting common issues. If you have any questions or need help feel free to reach out to me on <a href="https://twitter.com/epunx2">Twitter</a> or <a href="https://www.linkedin.com/in/echrobak/">LinkedIn</a>. I’m always happy to help.</p>

    </div>
</div>


    <footer class="footer">
    <div class="container">
        <div class="row">
            <ul>
                <li>
                    <a href="mailto:eric.chrobak@gmail.com">
                        <i class="fa fa-envelope"></i>
                    </a>
                </li>
                <li>
                    <a href="https://github.com/epunx2">
                        <i class="fa fa-github"></i>
                    </a>
                </li>
                <li>
                    <a href="tel:312-513-8086">
                        <i class="fa fa-phone"></i>
                    </a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/echrobak">
                        <i class="fa fa-linkedin"></i>
                    </a>
                </li>
            </ul>
            <p class="copyright text-muted">&copy; Eric Chrobak 2015-2025</p>
        </div>
    </div>
</footer>


</body>

</html>
